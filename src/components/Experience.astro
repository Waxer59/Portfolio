---
import { getLangFromUrl, useTranslations } from '@i18n/utils'
import { experience } from '@/data/experience'
import BriefcaseIcon from './icons/BriefcaseIcon.astro'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<section>
  <h2
    class="text-tertiary text-3xl font-bold uppercase tracking-wider flex items-center gap-4 self-start"
    id={t('nav.experience')}>
    <BriefcaseIcon class="w-9 h-9 hidden sm:inline-block" />
    {t('nav.experience')}
  </h2>

  <ol
    class="relative border-s border-secondary dark:border-gray-700 mt-6 flex flex-col gap-y-4">
    {
      experience[lang].map((experience) => (
        <li class="ms-4">
          <div class="absolute w-3 h-3 bg-secondary rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700" />
          <time class="mb-1 text-sm font-normal leading-none text-secondary dark:text-gray-500">
            {experience.period}
          </time>
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
            {experience.company}
          </h3>
          <h4 class="text-lg font-semibold text-gray-900 dark:text-white">
            {experience.position}
          </h4>
          <p class="text-base font-normal text-secondary">
            {experience.description}
          </p>
        </li>
      ))
    }
  </ol>
</section>
